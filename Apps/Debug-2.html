<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">
    <!-- Tell IE to use the latest, best version (or Chrome Frame if pre-IE11). -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <!-- Make the application on mobile take up the full browser screen and disable user scaling. -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <title>Hello World!</title>
    <script src="../Build/Cesium/Cesium.js"></script>
    <style>
        @import url(../Build/Cesium/Widgets/widgets.css);
        html, body, #cesiumContainer {
            width: 100%; height: 100%; margin: 0; padding: 0; overflow: hidden;
        }

        #buttons {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #bbbbbb;
            padding: 5px;
        }
    </style>
</head>
<body>
<div id="cesiumContainer"></div>
<div id="buttons">
    <button onclick="this.disabled=true; addTopo('RED');">Add Red</button>
    <button onclick="this.disabled=true; addTopo('PINK');">Add Pink</button>
</div>

<script>
    var viewer = new Cesium.Viewer('cesiumContainer');
    var dataSource = null;

    function addTopo(color) {
        loadData('SampleData/ne_10m_us_states.topojson', {
            fill: Cesium.Color[color],
            strokeWidth: 3
        });
    }

    function loadData(url, style) {
        if (dataSource) {
            console.log(dataSource);
            var result = viewer.dataSources.remove(dataSource, true);
            console.log("was removed" + result);
        }

        //viewer.dataSources.removeAll();
        Cesium.GeoJsonDataSource.load(url, style)
            .then(function (data) {
                dataSource = data;
                viewer.dataSources.add(dataSource);
            });
    }

</script>
</body>
</html>